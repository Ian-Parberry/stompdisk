<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>StompDisk: StompDisk</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">StompDisk
   </div>
   <div id="projectbrief">Create Large Files of Pseudo-Random Bytes</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">StompDisk </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>1. Introduction</h2>
<p >When you delete a file under Windows, the file data on disk doesn't get deleted, just the pointers that Windows uses to access the file. The data is still there, but its location on the disk has been added to a <em>free-list</em> of disk space available to be over-written by other files. Until that disk space is actually over-written by another file, a moderately competent hacker with access to your old disk drive could potentially reconstruct your files. This means that before you sell, give away, or throw out your old computer or your old disk drive, it's a good idea to over-write as much of the data on the disk as you can with noise.</p>
<p >For <em>noise</em> this program uses the pseudo-random number generator <a href="https://github.com/espadrine/shishua"><code>shishua</code></a>, which was chosen for speed of generation over statistical strength. <code>StompDisk</code>'s <code>Src</code> folder contains unmodifed copies of <code>shishua.h</code> and <code>shishua-sse2.h</code> from that repository. The initial seed for <code>shishua</code> is generated from using <code>cstdlib</code> function <code>rand()</code> seeded using <code>timeGetTime()</code>, the number of milliseconds since Windows last rebooted, so that the output should be different every time <code>StompDisk</code> is run.</p>
<h2>2. Compiling the Code</h2>
<p >A Visual Studio solution file <code>stompdisk.sln</code> has been provided in the root folder. It has been tested with Visual Studio 2019 Community under Windows 10.</p>
<h2>3. Using the Code</h2>
<p ><code>StompDisk</code> compiles to a Windows Console program that prompts for the file size in GB (Gigabytes) and then creates a file of that size. The files will be named <code>stomp0.dat</code>, <code>stomp1.dat</code>, <code>stomp2.dat</code>, etc. If you already have some files named <code>stomp*.dat</code> in the current folder, then they will not be over-written. The <a class="el" href="index.html#fig1">Fig. 1</a> below shows a screen shot. Note that after you enter the number of GB wanted, <code>StompDisk</code> outputs a "." for every GB saved so that you can monitor its progress. The execution time will depend on several factors, the most important of which is the disk transfer rate. Obviously, <code>StompDisk</code> should run faster on a new solid-state drive than on an old-school mechanical hard drive. <br  />
</p>
<p ><a class="anchor" id="fig1"></a></p><div class="image">
<img src="sshot.png" alt="" width="40%"/>
<div class="caption">
Fig. 1: Screen shot of StompDisk.</div></div>
<p >It is <em>strongly recommended</em> that you do not open any of the <code>stomp*.dat</code> files in a text editor such as <code>Notepad</code> or <code>Notepad++</code> unless you are willing to wait a very, very long time for it to load. If you want to check one of the output files, I suggest that you use the free hex editor <a href="https://mh-nexus.de/en/hxd/">HxD</a>. For example, <a class="el" href="index.html#fig2">Fig. 2</a> shows <code>stomp0.dat</code> open in <a href="https://mh-nexus.de/en/hxd/">HxD</a>.</p>
<p ><a class="anchor" id="fig2"></a></p><div class="image">
<img src="hxd.png" alt="" width="50%"/>
<div class="caption">
Fig. 2: Screen shot of HxD.</div></div>
<h3>Before Disposing of Your Disk Drive or Computer</h3>
<p >Before you dispose of your disk drive or computer, you should of course delete all of your files from the usual places such as the <code>Documents</code> and <code>Pictures</code> folders. You should also uninstall any unnecessary programs that may be caching data, clear all browser cookies and downloaded files, and empty the trash.</p>
<p >Unfortunately, Windows is very, very slow at deleting a large number of files because it insists on enumerating them and reporting to the user first. It is much faster to use the batch file <a href="https://github.com/Ian-Parberry/stompdisk/blob/a76397f792715d5f9aa203c319b7312ef2874ce8/fastdelete.bat"><code>fastdelete.bat</code></a> included at the root of this repository. Simply copy it to the folder above the one you want to delete, double-click on the <a href="https://github.com/Ian-Parberry/stompdisk/blob/a76397f792715d5f9aa203c319b7312ef2874ce8/fastdelete.bat"><code>fastdelete.bat</code></a> icon (see <a class="el" href="index.html#fig3">Fig. 3</a>), and type in the name of the folder that you want to delete when prompted (in <a class="el" href="index.html#fig3">Fig. 3</a> that would be the folder <code>Delete Me</code>). Note that this cannot be undone, so make sure that you do <em>really</em> want to do this.</p>
<p ><a class="anchor" id="fig3"></a></p><div class="image">
<img src="deleteme.png" alt="" width="40%"/>
<div class="caption">
Fig. 3: Folder containing the fast delete batch file.</div></div>
<p >Once you are sure that you have deleted everything that can be deleted, use <code>StompDisk</code> to create a collection of progressively smaller files until your disk drive shows up as nearly full. If you choose to do this, be aware that Windows tends to get increasing slow and tetchy as its main drive gets close to 100 percent usage. After, and only after, you have created enough <code>stomp*.dat</code> files to fill the disk you should delete them all, again preferably using <code>Shift+Delete</code>. Your unused disk space should now mostly consist of noise.</p>
<p ><span style="color: red;"> Important Note: <code>StompDisk</code> is not guaranteed to over-write absolutely all of your data. There may still be fragments of deleted files remaining depending on a number of factors including the sizes of the files that are still on your disk. If you are considering using <code>StompDisk</code> to cover up evidence of illegal activity, then don't. In any case you should read the <a href="http://github.com/Ian-Parberry/stompdisk/blob/main/LICENSE">license</a> before the thought of using <code>StompDisk</code> even considers the possibility of crossing your mind.</span></p>
<p ><span style="color: red;"></span> </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Jul 1 2022 12:03:53 for StompDisk by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
